---
title: "[BOJ] 백준 8980번 - 택배"
excerpt: "Gold 2"

categories:
  - BOJ
tags:
  - [BOJ, Greedy, Python]

toc: true
toc_sticky: true

date: 2023-01-18
last_modified_at: 2023-01-18

header:
  teaser: /assets/images/teaser.png
---

# 문제

![prob](/assets/images/boj-8980/prob.jpg)

![input-output](/assets/images/boj-8980/input-output.jpg)

# 문제 해결

마을에서 트럭이 택배를 수집할 때는 무조건 도착 배송지가 가까운 택배들부터 담는 것이 중요하다. 빠르게 순환이 되어야 또 다른 택배를 실을 수 있기 때문이다.

또한 각 point에 도착했을 때 택배를 먼저 unload한 뒤에 load를 해야하는 순서도 꼭 지켜져야 한다.

우선 입력이 [start_point, dest_point, load] 로 된 M개의 박스 정보를 `sort()` 하여 start_point, dest_point, load 순으로 정렬한다. 이렇게 되면, 택배가 처리되는 순서대로 정렬이 완료된다.

그리고 각 point별로 트럭이 움직이므로 point마다 반복문을 돌리고, 각 point에서는 unload, load 순으로 코드가 진행된다.

## 첫번째 제출 답안

```py
import sys

N, C = map(int, input().split())  #N:마을 수, C:트럭의 용량
M = int(input())  #M:택배의 최대 개수

point = 0  #좌표
load = 0  #택배 개수
cnt = 0  #배송한 택배 개수
task = list()  #배송 일정

for i in range(M):
  task.append(list(map(int, sys.stdin.readline().split())))
task.sort()

for point in range(1, N + 1):
  print("------------------")
  for order in task:
    print(order)
    # unload
    if order[1] == point:
      load -= order[2]
      cnt += order[2]
    # load
    if order[0] == point:
      if load + order[2] <= C:
        load += order[2]
      else:
        order[2] = C - load
        load += order[2]
print(cnt)
```

```
4 40
6
3 4 20
1 2 10
1 3 20
1 4 30
2 3 10
2 4 20
------------------
[1, 2, 10]
[1, 3, 20]
[1, 4, 30]
[2, 3, 10]
[2, 4, 20]
[3, 4, 20]
------------------
[1, 2, 10]
[1, 3, 20]
[1, 4, 10]
[2, 3, 10]
[2, 4, 20]
[3, 4, 20]
------------------
[1, 2, 10]
[1, 3, 20]
[1, 4, 10]
[2, 3, 10]
[2, 4, 0]
[3, 4, 20]
------------------
[1, 2, 10]
[1, 3, 20]
[1, 4, 10]
[2, 3, 10]
[2, 4, 0]
[3, 4, 20]
70
```
제출은 결과인 70만 출력되도록 하면 된다.

하지만, 이 답안은 서브태스크의 최저점인 15점을 받았다...

따라서 다른 서브태스크들을 고려하여 다시 한 번 코드를 짜보았다.

## 두 번째 제출 답안

**문제점을 발견했다!**

트럭이 1부터 N까지의 마을을 차례로 방문하며 택배를 수집하는데, 이때 이전 마을에서 너무 목적지가 먼 택배를 load했다면 계속해서 그 칸을 차지하고 있는 상태가 발생한다.

그렇다면 다음 마을에서 이전 마을에서 수집한 택배보다 목적지가 짧은 택배를 수집할 수 있을 경우 원래 있던 목적지가 긴 택배를 버려야 한다.
~~근데 택배 회사가 그래도 되나...? 버려진 택배는 어떡해? '이게 맞아..?'~~

맞다고하면, 수집단계에서 dest_point를 비교한 뒤에 새로 수집할 택배의 dest_point가 더 가까우면 싹다 버리고 새로운 택배로 트럭을 채운다.

